<div class="experience timeline fade-up">

  <!-- WORK EXPERIENCE -->
  <h2 class="exp-section-title">Work Experience</h2>

  <div 
    class="glass hover-lift exp-item"
    *ngFor="let item of experience; let i = index"
    [class.open]="openIndex === i"
  >
    <button class="exp-toggle" (click)="toggle(i)" [class.open]="openIndex === i">
      <span class="exp-title">{{ item.title }}</span>

      <span class="exp-toggle-right">
        <span class="exp-years">{{ item.years }}</span>
        <span class="exp-arrow">›</span>
      </span>
    </button>


    <div 
      class="exp-content"
      [class.open]="openIndex === i"
      [style.maxHeight]="openIndex === i ? content.scrollHeight + 'px' : '0'"
      #content
    >
      <p class="exp-dates">{{ item.meta }}</p>
      <ul>
        <li *ngFor="let bullet of item.bullets">{{ bullet }}</li>
      </ul>
    </div>
  </div>

  <hr class="exp-divider">

  <!-- EDUCATION -->
  <h2 class="exp-section-title">Education</h2>

  <div 
    class="glass hover-lift exp-item"
    *ngFor="let item of education; let i = index"
    [class.open]="openIndex === (i + experience.length)"
  >
    <button 
      class="exp-toggle"
      [class.open]="openIndex === (i + experience.length)"
      (click)="toggle(i + experience.length)"
    >
      <span class="exp-title">{{ item.title }}</span>
      <span class="exp-arrow">›</span>
    </button>

    <div 
      class="exp-content"
      [class.open]="openIndex === (i + experience.length)"
      [style.maxHeight]="openIndex === (i + experience.length) ? content.scrollHeight + 'px' : '0'"
      #content
    >
      <p class="exp-dates">{{ item.meta }}</p>
      <ul>
        <li *ngFor="let bullet of item.bullets">{{ bullet }}</li>
      </ul>
    </div>
  </div>


</div>
